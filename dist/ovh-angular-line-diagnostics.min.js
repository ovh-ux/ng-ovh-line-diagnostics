/*! ovh-angular-line-diagnostics - 2.0.1 - 2018-09-04 */
"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();angular.module("ovh-angular-line-diagnostics",["ovh-api-services"]),angular.module("ovh-angular-line-diagnostics").component("lineDiagnostics",{bindings:{lineNumber:"@",serviceName:"@"},templateUrl:"/ovh-angular-line-diagnostics/src/ovh-angular-line-diagnostics/ovh-angular-line-diagnostics.html",controller:"LineDiagnosticsCtrl"}),angular.module("ovh-angular-line-diagnostics").constant("DIAGNOSTICS_CONSTANTS",{PROGRESS_BAR:{INTERVAL:1e3,STEP:20,LIMIT:90},STEPS:{DETECTION:{LABEL:"detectionStep",ACTIONS:["unplugModem"],QUESTIONS:["modemIsSynchronized"]},INVESTIGATION:{LABEL:"investigationStep",ACTIONS:["modemIsSynchronized","modemStillSynchronized"],ACTIONS_AS_QUESTIONS:["checkFilter","checkConnectionCable"],QUESTIONS:["modemIsSynchronized","modemStillSynchronized","severalInternetConnections","hasModemKeptSynchronization"],SPECIFIC_QUESTIONS:["problemType","downloadBandwidthTest","uploadBandwidthTest","bandwidthTestUnit"]},SOLUTION_PROPOSAL:{LABEL:"solutionProposalStep",APPOINTMENT_QUESTIONS_FORM:["idAppointment","individualSite","secureSite","siteClosedDays","siteOpening"],TIME_PERIOD_QUESTIONS:["startMorningHours","endMorningHours","startAfternoonHours","endAfternoonHours"]}},ROBOT_ACTION:{LONG_TIME_ACTIONS:["seltTest","installationCheck"],REQUEST_MONITORING:"requestMonitoring"},FAULT_TYPES:{UNKNOWN:"unknown",NO_SYNCHRONIZATION:"noSync",ALIGNMENT:"alignment",SYNC_LOSS_OR_LOW_BANDWIDTH:"syncLossOrLowBandwidth"},ERRORS:{MONITORING_EXISTS:"monitoringTodoAlreadyExists"},STATUS:{END:["cancelled","connectionProblem","haveToConnectModemOnTheRightPlug","interventionRequested","resolvedAfterTests","validationRefused","waitingValidation","noBandwidthFault"],PAUSE:["init","sleeping","waitingHuman"],PROBLEM:"problem",SPECIAL:[],WAITING_ROBOT:"waitingRobot"},BANDWIDTH_TEST_SITE:"http://proof.ovh.net",QUESTIONS_ENUM:{BANDWIDTH_TEST_UNIT:["Kbps","Mbps"],PROBLEM_TYPE:{LOW_BANDWIDTH:"lowBandwidth",SYNC_LOSS:"syncLoss"}}}),angular.module("ovh-angular-line-diagnostics").controller("LineDiagnosticsCtrl",function(){function a(b,c,d,e,f,g,h,i,j){_classCallCheck(this,a),this.$interval=b,this.$q=c,this.$state=d,this.$timeout=e,this.$translate=f,this.LineDiagnosticsService=g,this.LineDiagnosticFactory=h,this.Toast=i,this.DIAGNOSTICS_CONSTANTS=j,this.bandwidthTestSite=this.DIAGNOSTICS_CONSTANTS.BANDWIDTH_TEST_SITE,this.enumQuestions={bandwidthTestUnit:this.DIAGNOSTICS_CONSTANTS.QUESTIONS_ENUM.BANDWIDTH_TEST_UNIT,problemType:this.DIAGNOSTICS_CONSTANTS.QUESTIONS_ENUM.PROBLEM_TYPE}}return a.$inject=["$interval","$q","$state","$timeout","$translate","LineDiagnostics","LineDiagnosticFactory","Toast","DIAGNOSTICS_CONSTANTS"],_createClass(a,[{key:"$onInit",value:function(){var a=this,b=3e3;this.currentLineDiagnostic=null,this.currentStep=this.DIAGNOSTICS_CONSTANTS.STEPS.DETECTION.LABEL,this.currentAction=null,this.appointmentSlot=null,this.actionRequired=!1,this.loading=!1,this.progressBarCycle=null,this.LineDiagnosticsService.loadTranslations().then(function(){a.animateProgressBar(),a.$timeout(function(){a.runLineDiagnostic()},b)})["catch"](function(){a.Toast.error(a.$translate.instant("tools_lineDiagnostics_error_loading_translations"))})}},{key:"$onDestroy",value:function(){this.stopPoller()}},{key:"animateProgressBar",value:function(){var a=this;this.detectionStepProgression=0,this.progressBarCycle=this.$interval(function(){a.detectionStepProgression+a.DIAGNOSTICS_CONSTANTS.PROGRESS_BAR.STEP<a.DIAGNOSTICS_CONSTANTS.PROGRESS_BAR.LIMIT&&(a.detectionStepProgression=_.random(a.detectionStepProgression,a.detectionStepProgression+a.DIAGNOSTICS_CONSTANTS.PROGRESS_BAR.STEP))},this.DIAGNOSTICS_CONSTANTS.PROGRESS_BAR.INTERVAL)}},{key:"runLineDiagnostic",value:function(a){var b=this;return this.loading=!0,this.LineDiagnosticsService.getRunDiagnostic({number:this.lineNumber,serviceName:this.serviceName},a).then(function(a){return b.buildLineDiagnostic(a),b.checkDiagnosticStatus(a),b.setCurrentStep(),b.getNextAction(),a})["catch"](function(a){_.isEmpty(a)||(b.checkDiagnosticStatus(a),b.Toast.error([b.$translate.instant("tools_lineDiagnostics_diagnostic_run_error"),a.message].join(" ")))})["finally"](function(){b.loading=!1,b.detectionStepProgression=100,b.progressBarCycle&&(b.$interval.cancel(b.progressBarCycle),b.progressBarCycle=null)})}},{key:"cancelLineDiagnostic",value:function(){var a=this;return this.LineDiagnosticsService.getCancelDiagnostic({number:this.lineNumber,serviceName:this.serviceName}).$promise["catch"](function(b){a.Toast.error([a.$translate.instant("tools_lineDiagnostics_diagnostic_cancel_error"),_.get(b,"data.message","")].join(" "))})}},{key:"getNextAction",value:function(){var a=this;this.currentAction=_.chain(this.currentLineDiagnostic.getActionsToDo()).filter(function(b){return!_.includes(a.currentLineDiagnostic.getActionsDone(),b)}).first().value()}},{key:"goToInvestigationStep",value:function(){this.diagnosticFromBeginning=!1,this.setCurrentStep()}},{key:"isActionAQuestion",value:function(a){return this.DIAGNOSTICS_CONSTANTS.STEPS.INVESTIGATION.ACTIONS_AS_QUESTIONS.includes(a)}},{key:"getInvestigationStepQuestions",value:function(){var a=this;return this.currentLineDiagnostic.data.toAnswer.filter(function(b){return a.DIAGNOSTICS_CONSTANTS.STEPS.INVESTIGATION.QUESTIONS.includes(b.name)})}},{key:"getInvestigationStepSpecificQuestions",value:function(){var a=this;return this.currentLineDiagnostic.data.toAnswer.filter(function(b){return a.DIAGNOSTICS_CONSTANTS.STEPS.INVESTIGATION.SPECIFIC_QUESTIONS.includes(b.name)})}},{key:"setCurrentStep",value:function(){var a=this.DIAGNOSTICS_CONSTANTS.STEPS;switch(this.currentLineDiagnostic.faultType){case this.DIAGNOSTICS_CONSTANTS.FAULT_TYPES.UNKNOWN:this.diagnosticFromBeginning=!0,this.currentStep=a.DETECTION.LABEL;break;case this.DIAGNOSTICS_CONSTANTS.FAULT_TYPES.NO_SYNCHRONIZATION:case this.DIAGNOSTICS_CONSTANTS.FAULT_TYPES.ALIGNMENT:case this.DIAGNOSTICS_CONSTANTS.FAULT_TYPES.SYNC_LOSS_OR_LOW_BANDWIDTH:this.diagnosticFromBeginning?this.currentStep=a.DETECTION.LABEL:this.isOnFinalStep()?(this.currentStep=a.SOLUTION_PROPOSAL.LABEL,this.bandwidthDetails=this.currentLineDiagnostic.extractBandwidthDetails()):this.currentStep=a.INVESTIGATION.LABEL;break;default:this.currentStep=a.DETECTION.LABEL}}},{key:"checkDiagnosticStatus",value:function(a){_.isEqual(a.status,this.DIAGNOSTICS_CONSTANTS.STATUS.WAITING_ROBOT)?this.startPoller():(this.stopPoller(),_.isEqual(a.status,this.DIAGNOSTICS_CONSTANTS.STATUS.PROBLEM)&&!_.isEqual(_.get(a,"data.error",""),this.DIAGNOSTICS_CONSTANTS.ERRORS.MONITORING_EXISTS)&&this.cancelLineDiagnostic())}},{key:"startPoller",value:function(){this.runLineDiagnostic(this.currentLineDiagnostic.convertToRequestParams())}},{key:"stopPoller",value:function(){this.LineDiagnosticsService.deletePollDiagnostic()}},{key:"buildLineDiagnostic",value:function(a){this.currentLineDiagnostic=new this.LineDiagnosticFactory(a)}},{key:"setModemUnplug",value:function(a){this.diagnosticFromBeginning=!1,this.addActionDone(a)}},{key:"isOnFinalStep",value:function(){return this.isDiagnosticComplete()||this.hasFinalStepQuestions()||this.isMonitoringAlreadyExists()||_.isEqual(this.currentLineDiagnostic.data.robotAction,this.DIAGNOSTICS_CONSTANTS.ROBOT_ACTION.REQUEST_MONITORING)}},{key:"isDiagnosticComplete",value:function(){var a=this.DIAGNOSTICS_CONSTANTS.STATUS.END;return _.includes(a,_.get(this.currentLineDiagnostic,"status"))||this.isMonitoringAlreadyExists()}},{key:"hasFinalStepQuestions",value:function(){return!_.isEmpty(this.currentLineDiagnostic.getQuestionsToAnswer())&&_.isEmpty(this.getInvestigationStepQuestions())&&_.isEmpty(this.getInvestigationStepSpecificQuestions())&&!this.currentLineDiagnostic.hasQuestionToAnswer("resolvedAfterTests")}},{key:"isMonitoringAlreadyExists",value:function(){return _.isEqual(_.get(this.currentLineDiagnostic,"data.error",""),this.DIAGNOSTICS_CONSTANTS.ERRORS.MONITORING_EXISTS)}},{key:"addActionDone",value:function(a){this.actionRequired=!1,this.currentLineDiagnostic.addActionDone(a),this.startPoller()}},{key:"showWarning",value:function(){this.actionRequired=!0}}]),a}()),angular.module("ovh-angular-line-diagnostics").factory("LineDiagnosticFactory",["DIAGNOSTICS_CONSTANTS",function(a){var b=["data","faultType","id","status"],c=function(){function c(a){_classCallCheck(this,c),_.forEach(b,function(b){if(!_.has(a,b))throw new Error(b+" parameter must be specified when creating a new LineDiagnostic")}),this.id=a.id,this.faultType=a.faultType,this.status=a.status,this.data=a.data}return _createClass(c,[{key:"isLongActionInProgress",value:function(){return _.includes(a.ROBOT_ACTION.LONG_TIME_ACTIONS,_.get(this,"data.robotAction",""))}},{key:"extractBandwidthDetails",value:function(){return{theoricalBandwidth:{up:_.get(this.data,"lineDetails.lineCapabilities.up","-"),down:_.get(this.data,"lineDetails.lineCapabilities.down","-")},currentBandwidth:{up:_.get(this.data,"lineDetails.connectionInfo.upstreamSync","-"),down:_.get(this.data,"lineDetails.connectionInfo.downstreamSync","-")}}}},{key:"getActionsToDo",value:function(){var a=_.get(this,"data.actionsToDo",[]);return _.chain(a).map("name").flatten().value()}},{key:"getActionsDone",value:function(){return _.get(this,"data.actionsDone",[])}},{key:"addActionDone",value:function(a){this.data.actionsDone.push(a)}},{key:"getQuestionsToAnswer",value:function(){var a=_.get(this,"data.toAnswer",[]);return _.chain(a).map("name").flatten().value()}},{key:"hasQuestionToAnswer",value:function(a){return _.includes(this.getQuestionsToAnswer(),a)}},{key:"getQuestionOptions",value:function(a){var b=_.find(this.data.toAnswer,"name",a);return b.possibleValues}},{key:"needAppointmentDetails",value:function(){var b=a.STEPS.SOLUTION_PROPOSAL.APPOINTMENT_QUESTIONS_FORM;return _.some(_.filter(this.getQuestionsToAnswer(),function(a){return _.includes(b,a)}))}},{key:"hasTimePeriodQuestions",value:function(){var b=a.STEPS.SOLUTION_PROPOSAL.TIME_PERIOD_QUESTIONS;return!_.difference(b,this.getQuestionsToAnswer()).length}},{key:"getQuestionDefaultValue",value:function(a){var b=_.find(this.data.toAnswer,"name",a);return _.isUndefined(b)?null:b.defaultValue}},{key:"convertToRequestParams",value:function(){var b=a.FAULT_TYPES.UNKNOWN;return{actionsDone:_.get(this.data,"actionsDone"),answers:_.get(this.data,"answers"),faultType:this.faultType||b}}}]),c}();return c}]),angular.module("ovh-angular-line-diagnostics").provider("LineDiagnostics",function(){var a="$http",b="../bower_components/ovh-angular-line-diagnostics/dist",c=null,d="";this.setPathPrefix=function(a){return a&&(d=a),d},this.setProxy=function(b){return void 0!==b&&(a=b),a},this.setpollingApiOptions=function(a){return void 0!==a&&(c=a),c},this.setTranslationsPath=function(a){return void 0!==a&&(b=a),b},this.$get=["$translatePartialLoader","$translate","OvhApiXdslDiagnosticLines",function(a,c,d){var e={};return e.loadTranslations=function(){return angular.forEach([b],function(b){a.addPart(b)}),c.refresh()},e.getRunDiagnostic=function(a,b){var c={faultType:"unknown"},e=b&&b.faultType?b:angular.extend(c,b||{});return e&&e.answers&&_.forIn(e.answers,function(a,b){("true"===a||"false"===a)&&(e.answers[b]="true"===e.answers[b])}),d.v6().runDiagnostic(_.merge(a,e))},e.getCancelDiagnostic=function(a){return d.v6().cancelDiagnostic(a,{})},e.deletePollDiagnostic=function(){return d.v6().killPollerDiagnostic()},e}]}),angular.module("ovh-angular-line-diagnostics").run(["$templateCache",function(a){a.put("/ovh-angular-line-diagnostics/src/ovh-angular-line-diagnostics/ovh-angular-line-diagnostics.html","<div class=row><div class=col-md-6><div class=oui-progress-tracker><ol class=oui-progress-tracker__steps><li class=oui-progress-tracker__step data-ng-class=\"{\n                        'oui-progress-tracker__step_active': $ctrl.currentStep === 'detectionStep',\n                        'oui-progress-tracker__step_complete': $ctrl.currentStep !== 'detectionStep'\n                    }\"><span class=oui-progress-tracker__status><span class=oui-progress-tracker__label data-translate=tools_lineDiagnostics_detection_step></span></span></li><li class=oui-progress-tracker__step data-ng-class=\"{\n                        'oui-progress-tracker__step_active': $ctrl.currentStep === 'investigationStep',\n                        'oui-progress-tracker__step_complete': $ctrl.currentStep === 'solutionProposalStep',\n                        'oui-progress-tracker__step_disabled': $ctrl.currentStep === 'detectionStep'\n                    }\"><span class=oui-progress-tracker__status><span class=oui-progress-tracker__label data-translate=tools_lineDiagnostics_investigation_step></span></span></li><li class=oui-progress-tracker__step data-ng-class=\"{\n                        'oui-progress-tracker__step_active': $ctrl.currentStep === 'solutionProposalStep' && !$ctrl.isDiagnosticComplete(),\n                        'oui-progress-tracker__step_complete': $ctrl.isDiagnosticComplete(),\n                        'oui-progress-tracker__step_disabled': $ctrl.currentStep !== 'solutionProposalStep'\n                    }\"><span class=oui-progress-tracker__status><span class=oui-progress-tracker__label data-translate=tools_lineDiagnostics_solution_proposal_step></span></span></li></ol></div></div></div><div class=row><toast-message></toast-message></div><div class=row data-ng-if=\"$ctrl.currentLineDiagnostic.status !== 'problem' || $ctrl.isMonitoringAlreadyExists()\"><div data-ng-if=\"$ctrl.currentStep === 'detectionStep'\" data-ng-include=\"'/ovh-angular-line-diagnostics/src/ovh-angular-line-diagnostics/steps/ovh-angular-line-diagnostics-detection-step.html'\"></div><div data-ng-if=\"$ctrl.currentStep === 'investigationStep'\" data-ng-include=\"'/ovh-angular-line-diagnostics/src/ovh-angular-line-diagnostics/steps/ovh-angular-line-diagnostics-investigation-step.html'\"></div><div data-ng-if=\"$ctrl.currentStep === 'solutionProposalStep'\" data-ng-include=\"'/ovh-angular-line-diagnostics/src/ovh-angular-line-diagnostics/steps/ovh-angular-line-diagnostics-solution-proposal-step.html'\"></div></div><div data-ng-if=\"$ctrl.currentLineDiagnostic.status === 'problem' && !$ctrl.isMonitoringAlreadyExists()\"><oui-message data-type=error><p data-translate=tools_lineDiagnostics_diagnostic_critical_problem_title></p><p data-translate=tools_lineDiagnostics_diagnostic_critical_problem></p></oui-message></div>"),a.put("/ovh-angular-line-diagnostics/src/ovh-angular-line-diagnostics/steps/ovh-angular-line-diagnostics-detection-step.html","<div class=col-md-8 data-ng-if=\"$ctrl.detectionStepProgression < 100\"><span data-translate=tools_lineDiagnostics_detection_step_test></span><oui-progress><oui-progress-bar data-type=info data-value=$ctrl.detectionStepProgression></oui-progress-bar></oui-progress></div><div class=col-md-4 data-ng-if=\"$ctrl.currentLineDiagnostic.status === 'waitingRobot'\"><oui-spinner data-size=s></oui-spinner><span data-translate=tools_lineDiagnostics_waitingRobot></span> <span data-translate=tools_lineDiagnostics_please_wait></span></div><div class=col-md-8 data-ng-if=\"$ctrl.detectionStepProgression === 100 &&\n                 $ctrl.currentLineDiagnostic\"><div data-ng-if=\"$ctrl.currentLineDiagnostic.hasQuestionToAnswer('modemIsSynchronized')\"><form class=form-group novalidate><oui-field data-label=\"{{:: 'tools_lineDiagnostics_detection_step_modem_question' | translate }}\" data-label-popover=\"{{:: 'tools_lineDiagnostics_detection_step_modem_question_help' | translate }}\"><oui-radio-toggle-group class=d-inline-block data-model=$ctrl.currentLineDiagnostic.data.answers.modemIsSynchronized data-on-change=$ctrl.startPoller() data-ng-hide=$ctrl.loading><oui-radio data-value=true><span data-translate=tools_lineDiagnostics_detail_yes></span></oui-radio><oui-radio data-value=false><span data-translate=tools_lineDiagnostics_detail_no></span></oui-radio></oui-radio-toggle-group><p data-ng-if=$ctrl.loading><oui-spinner data-size=s></oui-spinner><span class=ml-2 data-translate=tools_lineDiagnostics_please_wait></span></p></oui-field></form></div><div data-ng-if=\"$ctrl.currentLineDiagnostic.faultType !== 'unknown' &&\n                     $ctrl.currentLineDiagnostic.status !== 'waitingRobot'\"><oui-message data-type=warning><p class=oui-header_5 data-translate=tools_lineDiagnostics_detection_step_warning_title></p><p data-translate=tools_lineDiagnostics_detection_step_warning></p></oui-message><div data-ng-if=\"$ctrl.currentLineDiagnostic.faultType === 'noSync'\"><label for=unplugModem class=oui-label><span data-translate=tools_lineDiagnostics_detection_step_modem_unplug_request></span></label><oui-button id=unplugModem data-variant=secondary data-variant-nav=next data-on-click=\"$ctrl.setModemUnplug('unplugModem')\" data-ng-if=!$ctrl.loading><span data-translate=tools_lineDiagnostics_detection_step_modem_unplug_confirm></span></oui-button><span data-ng-if=$ctrl.loading><oui-spinner data-size=s></oui-spinner><span class=ml-2 data-translate=tools_lineDiagnostics_please_wait></span></span></div><div data-ng-if=\"$ctrl.currentLineDiagnostic.faultType === 'alignment' ||\n                         $ctrl.currentLineDiagnostic.faultType === 'syncLossOrLowBandwidth'\"><oui-button data-variant=secondary data-variant-nav=next data-on-click=$ctrl.goToInvestigationStep() data-ng-if=!$ctrl.loading><span data-translate=tools_lineDiagnostics_detection_step_continue></span></oui-button><span data-ng-if=$ctrl.loading><oui-spinner data-ng-if=$ctrl.loading data-size=s></oui-spinner><span class=ml-2 data-translate=tools_lineDiagnostics_please_wait></span></span></div></div></div>"),a.put("/ovh-angular-line-diagnostics/src/ovh-angular-line-diagnostics/steps/ovh-angular-line-diagnostics-investigation-step.html",'<div class=col-md-6 data-ng-if="!$ctrl.currentLineDiagnostic.isLongActionInProgress() && $ctrl.currentLineDiagnostic.status !== \'waitingRobot\'"><div class=form-group><p class=oui-header_5 data-translate=tools_lineDiagnostics_header_investigation_step_title></p><p data-translate=tools_lineDiagnostics_header_investigation_step_subtitle></p><div class=mb-5 data-ng-if="$ctrl.currentLineDiagnostic.data.actionsDone && $ctrl.currentLineDiagnostic.data.actionsDone.length > 0"><p data-ng-repeat="actionDone in $ctrl.currentLineDiagnostic.getActionsDone() track by actionDone"><span class="oui-icon oui-icon-success" aria-hidden=true></span> <span data-translate="{{:: \'tools_lineDiagnostics_investigation_step_action_\' + actionDone + \'_done_text\' }}"></span></p><p data-ng-if="$ctrl.loading &&\n                           $ctrl.getInvestigationStepQuestions().length === 0 &&\n                           $ctrl.getInvestigationStepSpecificQuestions().length === 0"><oui-spinner data-size=s></oui-spinner><span class=ml-2 data-translate=tools_lineDiagnostics_please_wait></span></p></div><div data-ng-if="$ctrl.currentLineDiagnostic.data.actionsToDo &&\n                         $ctrl.currentLineDiagnostic.data.actionsToDo.length > 0 &&\n                         $ctrl.currentAction && !$ctrl.loading"><label for="{{:: $ctrl.currentAction }}" class=oui-label><span data-translate="{{:: \'tools_lineDiagnostics_investigation_step_action_\' + $ctrl.currentAction + \'_title\' }}"></span><oui-popover data-ng-if="$ctrl.currentAction === \'bePreparedToCheckModemSynchronization\'"><button type=button class=oui-popover-button oui-popover-trigger></button><oui-popover-content data-translate=tools_lineDiagnostics_detection_step_modem_question_help></oui-popover-content></oui-popover><a class="oui-link oui-link_icon" data-ng-if="$ctrl.currentAction === \'changeProfile\'" data-ui-sref=telecom.pack.xdsl><span data-translate=tools_lineDiagnostics_investigation_step_action_changeProfile_link></span></a><oui-popover data-ng-if="$ctrl.currentAction === \'checkFilter\'"><button type=button class=oui-popover-button oui-popover-trigger></button><oui-popover-content><p class=text-center data-translate=tools_lineDiagnostics_investigation_step_action_checkFilter_example></p><img src=assets/images/diagnostic/filtre-adsl.png data-ng-attr-alt="{{:: $ctrl.currentAction }}"></oui-popover-content></oui-popover></label><oui-button data-variant=secondary data-on-click=$ctrl.addActionDone($ctrl.currentAction) data-disabled=$ctrl.loading><span data-translate="{{:: \'tools_lineDiagnostics_investigation_step_action_\' + $ctrl.currentAction + \'_text\' }}"></span></oui-button><oui-button data-variant=secondary data-on-click=$ctrl.showWarning() data-ng-if=$ctrl.isActionAQuestion($ctrl.currentAction) data-disabled=$ctrl.loading><span data-translate=tools_lineDiagnostics_detail_no></span></oui-button></div><div data-ng-if="$ctrl.getInvestigationStepQuestions().length > 0" data-ng-repeat="question in $ctrl.getInvestigationStepQuestions() track by question"><oui-field data-label="{{:: \'tools_lineDiagnostics_investigation_step_question_\' + question.name + \'_title\' | translate }}"><oui-radio-toggle-group class=d-inline-block data-model=$ctrl.currentLineDiagnostic.data.answers[question.name] data-ng-if="question.type === \'boolean\' && !$ctrl.loading" data-on-change=$ctrl.startPoller()><oui-radio data-value=true><span data-translate=tools_lineDiagnostics_detail_yes></span></oui-radio><oui-radio data-value=false><span data-translate=tools_lineDiagnostics_detail_no></span></oui-radio></oui-radio-toggle-group><p data-ng-if=$ctrl.loading><oui-spinner data-size=s></oui-spinner><span class=ml-2 data-translate=tools_lineDiagnostics_please_wait></span></p></oui-field></div><div data-ng-if="$ctrl.getInvestigationStepSpecificQuestions().length > 0"><form name=syncLossOrLowBandwidth novalidate data-ng-if=!$ctrl.loading><div data-ng-if="$ctrl.currentLineDiagnostic.hasQuestionToAnswer(\'problemType\')"><oui-field data-label="{{:: \'tools_lineDiagnostics_investigation_step_question_problemType_title\' | translate }}"><oui-radio-group data-model=$ctrl.currentLineDiagnostic.data.answers.problemType><oui-radio data-value=$ctrl.enumQuestions.problemType.SYNC_LOSS data-required><span data-translate=tools_lineDiagnostics_investigation_step_question_problemType_enum_syncLoss></span></oui-radio><oui-radio data-value=$ctrl.enumQuestions.problemType.LOW_BANDWIDTH data-required><span data-translate=tools_lineDiagnostics_investigation_step_question_problemType_enum_lowBandwidth></span></oui-radio></oui-radio-group></oui-field></div><div data-ng-if="($ctrl.currentLineDiagnostic.hasQuestionToAnswer(\'downloadBandwidthTest\') &&\n                                 $ctrl.currentLineDiagnostic.hasQuestionToAnswer(\'uploadBandwidthTest\'))"><label class=oui-label><span data-translate=tools_lineDiagnostics_investigation_step_question_bandwidthTest_title></span> <a data-ng-href="{{:: $ctrl.bandwidthTestSite }}" target=_blank rel=noopener><span data-ng-bind=$ctrl.bandwidthTestSite></span></a></label><div class=row><oui-field class="col-md-4 col-xs-8" data-label="{{:: \'tools_lineDiagnostics_investigation_step_question_downloadBandwidthTest_title\' | translate }}" data-ng-if="$ctrl.currentLineDiagnostic.hasQuestionToAnswer(\'downloadBandwidthTest\')"><input class=oui-input name=downloadBandwidthTest value="$ctrl.currentLineDiagnostic.getQuestionDefaultValue(\'downloadBandwidthTest\')" data-ng-model=$ctrl.currentLineDiagnostic.data.answers.downloadBandwidthTest data-required></oui-field><oui-field class="col-md-4 col-xs-8" data-label="{{:: \'tools_lineDiagnostics_investigation_step_question_uploadBandwidthTest_title\' | translate }}" data-ng-if="$ctrl.currentLineDiagnostic.hasQuestionToAnswer(\'uploadBandwidthTest\')"><input class=oui-input name=uploadBandwidthTest value="$ctrl.currentLineDiagnostic.getQuestionDefaultValue(\'uploadBandwidthTest\')" data-ng-model=$ctrl.currentLineDiagnostic.data.answers.uploadBandwidthTest data-required></oui-field><oui-field class="col-md-3 col-xs-8" data-label="{{:: \'tools_lineDiagnostics_investigation_step_question_bandwidthTestUnit_title\' | translate }}" data-ng-if="$ctrl.currentLineDiagnostic.hasQuestionToAnswer(\'bandwidthTestUnit\')"><oui-select name=bandwidthTestUnit placeholder="{{:: \'tools_lineDiagnostics_investigation_step_question_bandwidthTestUnit_placeholder\' | translate }}" data-model=$ctrl.currentLineDiagnostic.data.answers.bandwidthTestUnit data-items=$ctrl.enumQuestions.bandwidthTestUnit data-align=start data-required><span data-ng-bind=$item></span></oui-select></oui-field></div></div><oui-button data-variant=primary data-disabled=!syncLossOrLowBandwidth.$valid data-on-click=$ctrl.startPoller() data-ng-if=!$ctrl.loading><span data-translate=tools_lineDiagnostics_validate></span></oui-button></form><p data-ng-if=$ctrl.loading><oui-spinner data-size=s></oui-spinner><span class=ml-2 data-translate=tools_lineDiagnostics_please_wait></span></p></div></div></div><div class=col-md-4 data-ng-if="$ctrl.currentLineDiagnostic.status === \'waitingRobot\' && !$ctrl.currentLineDiagnostic.isLongActionInProgress()"><p><oui-spinner data-size=s></oui-spinner><span data-translate=tools_lineDiagnostics_waitingRobot></span> <span data-translate=tools_lineDiagnostics_please_wait></span></p></div><div class=col-md-8><oui-message data-type=warning data-ng-if=$ctrl.actionRequired><span data-translate=tools_lineDiagnostics_action_required_action></span></oui-message></div><div class="col-md-5 oui-message oui-message_info" data-ng-if="$ctrl.currentLineDiagnostic.hasQuestionToAnswer(\'resolvedAfterTests\') && !$ctrl.loading"><p class=oui-header_6 data-translate=tools_lineDiagnostics_investigation_step_action_is_problem_solved></p><oui-radio-toggle-group class=d-inline-block data-model=$ctrl.currentLineDiagnostic.data.answers.resolvedAfterTests data-on-change=$ctrl.startPoller()><oui-radio data-value=true><span data-translate=tools_lineDiagnostics_detail_yes></span></oui-radio><oui-radio data-value=false><span data-translate=tools_lineDiagnostics_detail_no></span></oui-radio></oui-radio-toggle-group></div><div class=col-md-6 data-ng-if=$ctrl.currentLineDiagnostic.isLongActionInProgress()><oui-spinner></oui-spinner><p class=oui-header_6 data-translate=tools_lineDiagnostics_header_investigation_step_selt_test_title></p><p data-translate=tools_lineDiagnostics_header_investigation_step_selt_test_subtitle></p></div>'),a.put("/ovh-angular-line-diagnostics/src/ovh-angular-line-diagnostics/steps/ovh-angular-line-diagnostics-solution-proposal-step.html",'<div data-ng-if=$ctrl.currentLineDiagnostic.data.answers.resolvedAfterTests><img class=col-md-2 src=assets/images/diagnostic/human-good.svg width=180 height=180 data-ng-attr-alt="{{:: $ctrl.currentLineDiagnostic.status }}"> <span class=col-md-8><p class=oui-header_4 data-translate=tools_lineDiagnostics_solution_proposal_step_problem_solved_title></p><p data-translate=tools_lineDiagnostics_solution_proposal_step_problem_solved_subtitle></p><oui-button data-variant=primary data-text="{{:: \'tools_lineDiagnostics_solution_proposal_step_exit_diagnostic\' | translate }}" data-on-click="$ctrl.$state.go(\'^\')"></oui-button></span></div><div data-ng-if=!$ctrl.currentLineDiagnostic.data.answers.resolvedAfterTests><div class=col-md-4 data-ng-if="$ctrl.currentLineDiagnostic.status === \'waitingRobot\'"><oui-spinner data-size=s></oui-spinner><span data-translate=tools_lineDiagnostics_please_wait></span></div><div data-ng-if="$ctrl.currentLineDiagnostic.status === \'waitingValidation\'"><img class=col-md-2 src=assets/images/diagnostic/human-speedAndGraphic.svg width=180 height=180 data-ng-attr-alt="{{:: $ctrl.currentLineDiagnostic.status }}"> <span class=col-md-8><p class=oui-header_4 data-translate=tools_lineDiagnostics_solution_proposal_step_waitingValidation_title></p><p data-translate=tools_lineDiagnostics_solution_proposal_step_waitingValidation_subtitle></p><oui-button data-variant=primary data-text="{{:: \'tools_lineDiagnostics_solution_proposal_step_exit_diagnostic\' | translate }}" data-on-click="$ctrl.$state.go(\'^\')"></oui-button></span></div><div data-ng-if=$ctrl.isMonitoringAlreadyExists()><img class=col-md-2 src=assets/images/diagnostic/human-think.svg width=180 height=180 data-ng-attr-alt="{{:: $ctrl.currentLineDiagnostic.status }}"> <span class=col-md-8><p class=oui-header_4 data-translate="{{:: \'tools_lineDiagnostics_error_context_monitoringTodoAlreadyExists_title\' }}"></p><p data-translate="{{:: \'tools_lineDiagnostics_error_context_monitoringTodoAlreadyExists_subtitle\' }}"></p><oui-button data-variant=primary data-text="{{:: \'tools_lineDiagnostics_solution_proposal_step_exit_diagnostic\' | translate }}" data-on-click="$ctrl.$state.go(\'^\')"></oui-button></span></div><div data-ng-if=!$ctrl.showRequestForm><div data-ng-if="$ctrl.currentLineDiagnostic.status === \'waitingHuman\'"><div class="col-md-12 form-group" data-ng-if="$ctrl.currentLineDiagnostic.data.answers.problemType === \'lowBandwidth\'"><p data-translate=tools_lineDiagnostics_solution_proposal_step_bandwidthCapabilities data-translate-values="{\n                        \'up\': $ctrl.bandwidthDetails.theoricalBandwidth.up,\n                        \'down\': $ctrl.bandwidthDetails.theoricalBandwidth.down\n                   }"></p><p data-translate=tools_lineDiagnostics_solution_proposal_step_bandwidthCurrent data-translate-values="{\n                        \'up\': $ctrl.bandwidthDetails.currentBandwidth.up,\n                        \'down\': $ctrl.bandwidthDetails.currentBandwidth.down\n                   }"></p></div><img class=col-md-2 src=assets/images/diagnostic/human-think.svg width=180 height=180 data-ng-attr-alt="{{:: $ctrl.currentLineDiagnostic.status }}"> <span class=col-md-8><p class=oui-header_4 data-translate=tools_lineDiagnostics_solution_proposal_step_problem_to_resolve_title></p><p data-translate=tools_lineDiagnostics_solution_proposal_step_problem_to_resolve_subtitle></p><oui-button data-variant=primary data-text="{{:: \'tools_lineDiagnostics_solution_proposal_step_fill_request_form\' | translate }}" data-on-click="$ctrl.showRequestForm = true"></oui-button></span></div><div data-ng-if="$ctrl.currentLineDiagnostic.status === \'syncLossOrLowBandwidth\'"><img class=col-md-2 src=assets/images/diagnostic/human-think.svg width=180 height=180 data-ng-attr-alt="{{:: $ctrl.currentLineDiagnostic.status }}"> <span class=col-md-8><p class=oui-header_4 data-translate=tools_lineDiagnostics_solution_proposal_step_problem_to_monitor_title_title></p><p data-translate=tools_lineDiagnostics_solution_proposal_step_problem_to_monitor_title_subtitle></p><oui-button data-variant=primary data-text="{{:: \'tools_lineDiagnostics_solution_proposal_step_fill_request_form\' | translate }}" data-on-click="$ctrl.showRequestForm = true"></oui-button></span></div><div data-ng-if="$ctrl.currentLineDiagnostic.status === \'haveToConnectModemOnTheRightPlug\'"><img class=col-md-2 src=assets/images/diagnostic/human-think.svg width=180 height=180 data-ng-attr-alt="{{:: $ctrl.currentLineDiagnostic.status }}"> <span class=col-md-8><p class=oui-header_4 data-translate=tools_lineDiagnostics_solution_proposal_step_haveToConnectModemOnTheRightPlug_title></p><p data-translate=tools_lineDiagnostics_solution_proposal_step_haveToConnectModemOnTheRightPlug_subtitle></p><oui-button data-variant=primary data-text="{{:: \'tools_lineDiagnostics_solution_proposal_step_exit_diagnostic\' | translate }}" data-on-click="$ctrl.$state.go(\'^\')"></oui-button></span></div><div data-ng-if="$ctrl.currentLineDiagnostic.status === \'connectionProblem\'"><img class=col-md-2 src=assets/images/diagnostic/human-think.svg width=180 height=180 data-ng-attr-alt="{{:: $ctrl.currentLineDiagnostic.status }}"> <span class=col-md-8><p class=oui-header_4 data-translate=tools_lineDiagnostics_solution_proposal_step_connectionProblem_title></p><p data-translate=tools_lineDiagnostics_solution_proposal_step_connectionProblem_subtitle></p><oui-button data-variant=primary data-text="{{:: \'tools_lineDiagnostics_solution_proposal_step_exit_diagnostic\' | translate }}" data-on-click="$ctrl.$state.go(\'^\')"></oui-button></span></div><div data-ng-if="$ctrl.currentLineDiagnostic.status === \'cancelled\'"><img class=col-md-2 src=assets/images/diagnostic/human-think.svg width=180 height=180 data-ng-attr-alt="{{:: $ctrl.currentLineDiagnostic.status }}"> <span class=col-md-8><p class=oui-header_4 data-translate=tools_lineDiagnostics_solution_proposal_step_cancelled_title></p><p data-translate=tools_lineDiagnostics_solution_proposal_step_cancelled_subtitle></p><oui-button data-variant=primary data-text="{{:: \'tools_lineDiagnostics_solution_proposal_step_exit_diagnostic\' | translate }}" data-on-click="$ctrl.$state.go(\'^\')"></oui-button></span></div><div data-ng-if="$ctrl.currentLineDiagnostic.status === \'validationRefused\'"><img class=col-md-2 src=assets/images/diagnostic/human-think.svg width=180 height=180 data-ng-attr-alt="{{:: $ctrl.currentLineDiagnostic.status }}"> <span class=col-md-8><p class=oui-header_4 data-translate=tools_lineDiagnostics_solution_proposal_step_validationRefused_title></p><oui-button data-variant=primary data-text="{{:: \'tools_lineDiagnostics_solution_proposal_step_exit_diagnostic\' | translate }}" data-on-click="$ctrl.$state.go(\'^\')"></oui-button></span></div><div data-ng-if="$ctrl.currentLineDiagnostic.status === \'interventionRequested\'"><img class=col-md-2 src=assets/images/diagnostic/human-think.svg width=180 height=180 data-ng-attr-alt="{{:: $ctrl.currentLineDiagnostic.status }}"> <span class=col-md-8><p class=oui-header_4 data-translate=tools_lineDiagnostics_solution_proposal_step_interventionRequested_title></p><p data-translate=tools_lineDiagnostics_solution_proposal_step_interventionRequested_subtitle></p><oui-button data-variant=primary data-text="{{:: \'tools_lineDiagnostics_solution_proposal_step_exit_diagnostic\' | translate }}" data-on-click="$ctrl.$state.go(\'^\')"></oui-button></span></div><div data-ng-if="$ctrl.currentLineDiagnostic.status === \'noBandwidthFault\'"><img class=col-md-2 src=assets/images/diagnostic/human-think.svg width=180 height=180 data-ng-attr-alt="{{:: $ctrl.currentLineDiagnostic.status }}"> <span class=col-md-8><p class=oui-header_4 data-translate=tools_lineDiagnostics_solution_proposal_step_noBandwidthFault_title></p><p data-translate=tools_lineDiagnostics_solution_proposal_step_noDefaultAnymore_subtitle></p><oui-button data-variant=primary data-text="{{:: \'tools_lineDiagnostics_solution_proposal_step_exit_diagnostic\' | translate }}" data-on-click="$ctrl.$state.go(\'^\')"></oui-button></span></div><div data-ng-if="$ctrl.currentLineDiagnostic.status === \'noProblemAnymore\'"><img class=col-md-2 src=assets/images/diagnostic/human-think.svg width=180 height=180 data-ng-attr-alt="{{:: $ctrl.currentLineDiagnostic.status }}"> <span class=col-md-8><p class=oui-header_4 data-translate=tools_lineDiagnostics_solution_proposal_step_noProblemAnymore_title></p><p data-translate=tools_lineDiagnostics_solution_proposal_step_noDefaultAnymore_subtitle></p><oui-button data-variant=primary data-text="{{:: \'tools_lineDiagnostics_solution_proposal_step_exit_diagnostic\' | translate }}" data-on-click="$ctrl.$state.go(\'^\')"></oui-button></span></div></div><div class=col-md-8 data-ng-if=$ctrl.showRequestForm><form class=form-group name=requestInterventionForm novalidate data-ng-if="$ctrl.currentLineDiagnostic.data.toAnswer && $ctrl.currentLineDiagnostic.data.toAnswer.length > 0 && !$ctrl.loading"><div data-ng-if=$ctrl.currentLineDiagnostic.needAppointmentDetails()><oui-field data-label="{{:: \'tools_lineDiagnostics_solution_proposal_step_request_form_question_idAppointment_title\' | translate }}" data-ng-if="$ctrl.currentLineDiagnostic.hasQuestionToAnswer(\'idAppointment\')"><oui-select name=idAppointment placeholder="{{:: \'tools_lineDiagnostics_solution_proposal_step_request_form_question_idAppointment_text\' | translate }}" data-match=label data-model=$ctrl.appointmentSlot data-items="$ctrl.currentLineDiagnostic.getQuestionOptions(\'idAppointment\')" data-align=start data-on-change="$ctrl.currentLineDiagnostic.data.answers.idAppointment = $ctrl.appointmentSlot.id" required><span ng-bind=$item.label></span></oui-select></oui-field><oui-field data-label="{{:: \'tools_lineDiagnostics_solution_proposal_step_request_form_question_individualSite_title\' | translate }}" data-ng-if="$ctrl.currentLineDiagnostic.hasQuestionToAnswer(\'individualSite\')"><oui-radio-toggle-group class=d-inline-block data-model=$ctrl.currentLineDiagnostic.data.answers.individualSite><oui-radio data-value=true required><span data-translate=tools_lineDiagnostics_detail_yes></span></oui-radio><oui-radio data-value=false required><span data-translate=tools_lineDiagnostics_detail_no></span></oui-radio></oui-radio-toggle-group></oui-field><oui-field data-label="{{:: \'tools_lineDiagnostics_solution_proposal_step_request_form_question_siteClosedDays_title\' | translate }}" data-ng-if="$ctrl.currentLineDiagnostic.hasQuestionToAnswer(\'siteClosedDays\')"><input class=oui-input name=siteClosedDays data-ng-model=$ctrl.currentLineDiagnostic.data.answers.siteClosedDays required></oui-field><oui-field data-label="{{:: \'tools_lineDiagnostics_solution_proposal_step_request_form_question_siteOpening_title\' | translate }}" data-ng-if="$ctrl.currentLineDiagnostic.hasQuestionToAnswer(\'siteOpening\')"><input class=oui-input name=siteOpening data-ng-model=$ctrl.currentLineDiagnostic.data.answers.siteOpening data-maxlength=20 required></oui-field><div data-ng-if=$ctrl.currentLineDiagnostic.hasTimePeriodQuestions()><label class=oui-label data-translate=tools_lineDiagnostics_solution_proposal_step_request_form_question_hours_title></label><div class=row><oui-field class="col-md-3 col-xs-8" data-label="{{:: \'tools_lineDiagnostics_solution_proposal_step_request_form_question_startMorningHours_title\' | translate }}"><input class=oui-input name=startMorningHours data-ng-pattern="/^[0-9:hH]{0,5}$/" data-ng-model=$ctrl.currentLineDiagnostic.data.answers.startMorningHours required></oui-field><oui-field class="col-md-3 col-xs-8" data-label="{{:: \'tools_lineDiagnostics_solution_proposal_step_request_form_question_endMorningHours_title\' | translate }}"><input class=oui-input name=endMorningHours data-ng-pattern="/^[0-9:hH]{0,5}$/" data-ng-model=$ctrl.currentLineDiagnostic.data.answers.endMorningHours required></oui-field></div><div class=row><oui-field class="col-md-3 col-xs-8" data-label="{{:: \'tools_lineDiagnostics_solution_proposal_step_request_form_question_startAfternoonHours_title\' | translate }}"><input class=oui-input name=startAfternoonHours data-ng-pattern="/^[0-9:hH]{0,5}$/" data-ng-model=$ctrl.currentLineDiagnostic.data.answers.startAfternoonHours required></oui-field><oui-field class="col-md-3 col-xs-8" data-label="{{:: \'tools_lineDiagnostics_solution_proposal_step_request_form_question_endAfternoonHours_title\' | translate }}"><input class=oui-input name=endAfternoonHours data-ng-pattern="/^[0-9:hH]{0,5}$/" data-ng-model=$ctrl.currentLineDiagnostic.data.answers.endAfternoonHours required></oui-field></div></div><oui-field data-label="{{:: \'tools_lineDiagnostics_solution_proposal_step_request_form_question_secureSite_title\' | translate }}" data-ng-if="$ctrl.currentLineDiagnostic.hasQuestionToAnswer(\'secureSite\')"><oui-radio-toggle-group class=d-inline-block data-model=$ctrl.currentLineDiagnostic.data.answers.secureSite><oui-radio data-value=true required><span data-translate=tools_lineDiagnostics_detail_yes></span></oui-radio><oui-radio data-value=false required><span data-translate=tools_lineDiagnostics_detail_no></span></oui-radio></oui-radio-toggle-group></oui-field><oui-field data-label="{{:: \'tools_lineDiagnostics_solution_proposal_step_request_form_question_siteDigicode_title\' | translate }}" data-ng-if="$ctrl.currentLineDiagnostic.hasQuestionToAnswer(\'siteDigicode\')"><input class=oui-input name=siteDigicode data-ng-model=$ctrl.currentLineDiagnostic.data.answers.siteDigicode></oui-field><oui-button data-disabled=!requestInterventionForm.$valid data-on-click=$ctrl.startPoller() data-text="{{:: \'tools_lineDiagnostics_solution_proposal_step_intervention_request_continue\' | translate }}" data-variant=primary></oui-button></div><div class=form-group data-ng-if=!$ctrl.currentLineDiagnostic.needAppointmentDetails()><oui-field data-label="{{:: \'tools_lineDiagnostics_solution_proposal_step_request_form_question_ovhTicket_title\' | translate }}" data-ng-if="$ctrl.currentLineDiagnostic.hasQuestionToAnswer(\'ovhTicket\')"><input class=oui-input name=ovhTicket data-ng-model=$ctrl.currentLineDiagnostic.data.answers.ovhTicket></oui-field><div class=row><oui-field class="col-md-6 col-xs-12" data-label="{{:: \'tools_lineDiagnostics_solution_proposal_step_request_form_question_modemType_title\' | translate }}" data-ng-if="$ctrl.currentLineDiagnostic.hasQuestionToAnswer(\'modemType\')"><input class=oui-input name=modemType value="$ctrl.currentLineDiagnostic.getQuestionDefaultValue(\'modemType\')" data-ng-model=$ctrl.currentLineDiagnostic.data.answers.modemType required></oui-field><oui-field class="col-md-6 col-xs-12" data-label="{{:: \'tools_lineDiagnostics_solution_proposal_step_request_form_question_contactPhone_title\' | translate }}"><input class=oui-input name=contactPhone data-ng-model=$ctrl.currentLineDiagnostic.data.answers.contactPhone data-ng-pattern="/^(0033|0)\\d{9}$/" required></oui-field></div><oui-field data-label="{{:: \'tools_lineDiagnostics_solution_proposal_step_request_form_question_comment_title\' | translate }}"><oui-textarea data-model=$ctrl.currentLineDiagnostic.data.answers.comment data-rows=7 data-minlength=5 data-maxlength=200 required></oui-textarea></oui-field><oui-field data-label="{{:: \'tools_lineDiagnostics_solution_proposal_step_request_form_question_followBySms_title\' | translate }}"><oui-radio-toggle-group class=d-inline-block data-model=$ctrl.currentLineDiagnostic.data.answers.followBySms><oui-radio data-value=true required><span data-translate=tools_lineDiagnostics_detail_yes></span></oui-radio><oui-radio data-value=false required><span data-translate=tools_lineDiagnostics_detail_no></span></oui-radio></oui-radio-toggle-group></oui-field><oui-checkbox data-ng-init="$ctrl.currentLineDiagnostic.data.answers.conditionsAccepted = false" data-model=$ctrl.currentLineDiagnostic.data.answers.conditionsAccepted><span data-translate=tools_lineDiagnostics_solution_proposal_step_request_form_question_conditionsAccepted_title></span></oui-checkbox><oui-button data-disabled="!requestInterventionForm.$valid || !$ctrl.currentLineDiagnostic.data.answers.conditionsAccepted" data-on-click=$ctrl.startPoller() data-text="{{:: \'tools_lineDiagnostics_solution_proposal_step_intervention_request_validation\' | translate }}" data-variant=primary></oui-button></div></form><p data-ng-if=$ctrl.loading><oui-spinner data-size=s></oui-spinner><span class=ml-2 data-translate=tools_lineDiagnostics_please_wait></span></p></div></div>');
}]);